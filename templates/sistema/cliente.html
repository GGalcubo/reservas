{% load static %}
<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
    <!--<![endif]-->
    {% include "sistema/cabecera.html" %}
    <body class="page-header-fixed page-sidebar-closed-hide-logo page-container-bg-solid page-sidebar-reversed page-sidebar-fixed page-md">
        {% include "sistema/barra_top.html" %}
        <!-- BEGIN HEADER & CONTENT DIVIDER -->
        <div class="clearfix"> </div>
        <!-- END HEADER & CONTENT DIVIDER -->
        <!-- BEGIN CONTAINER -->
        <div class="page-container">
            {% include "sistema/barra_lat.html" %}
            <!-- BEGIN CONTENT -->
            <div class="page-content-wrapper">
                <!-- BEGIN CONTENT BODY -->
                <div class="page-content">
                    <div class="row">
                        <div class="col-sm-12">
                            <!-- BEGIN EXAMPLE TABLE PORTLET-->
                            <div class="portlet light ">
                                <div class="portlet-title">
                                    <div class="caption font-blue">
                                        <i class="icon-briefcase font-blue"></i>
                                        <span class="caption-subject bold uppercase">Alta/Edición de cliente</span>
                                    </div>
                                    <div class="tools"> </div>
                                </div>
                                <div id="clienteValidacion" class="alert alert-danger">
                                    <button class="close" data-close="alert"></button> 
                                    <div></div> <div id="mensajeValidacion" ></div> 
                                </div>
                                <div class="portlet-body">
                                    <form role="form" method="post" id="formGuardarCliente" action="/sistema/guardarCliente/">{% csrf_token %}
                                        <input type="hidden" id="idCliente" name="idCliente" value="{{ cliente.id }}">
                                        <div class="form-body">
                                            <div class="row">
                                                <div class="col-sm-4">
                                                    <div class="form-group form-md-line-input form-md-floating-label">
                                                        <input type="text" class="form-control" id="razonSocial" name="razonSocial" value="{{ cliente.razon_social|default_if_none:"" }}">
                                                        <label for="razonSocial">Nombre o Razón Social</label>
                                                    </div>
                                                </div>
                                                <div class="col-sm-3">
                                                    <div class="form-group form-md-line-input form-md-floating-label">
                                                        <input type="text" class="form-control" id="cuil" name="cuil"  value="{{ cliente.cuil|default_if_none:"" }}">
                                                        <label for="cuil">CUIL/CUIT</label>
                                                    </div>
                                                </div>
                                                <div class="col-sm-3">
                                                    <div class="form-group form-md-line-input form-md-floating-label">
                                                        {% if cliente.id == 0 %}
                                                            <input type="text" class="form-control" id="telefono" name="telefono"  value="">
                                                        {% else %}
                                                            <input type="text" class="form-control" id="telefono" name="telefono"  value="{{ cliente.telefonoPrincipal }}">
                                                        {% endif %}
                                                        <label for="telefono">Teléfono</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-3">
                                                    <div class="form-group form-md-line-input form-md-floating-label">
                                                        <input type="text" class="form-control" id="calle" name="calle" value="{{ cliente.calle|default_if_none:"" }}">
                                                        <label for="calle">Calle</label>
                                                    </div>
                                                </div>

                                                <div class="col-sm-2">
                                                    <div class="form-group form-md-line-input form-md-floating-label">
                                                        <input type="text" class="form-control" id="altura" name="altura" value="{{ cliente.altura|default_if_none:"" }}">
                                                        <label for="altura">Altura</label>
                                                    </div>
                                                </div>
                                                <div class="col-sm-1">
                                                    <div class="form-group form-md-line-input form-md-floating-label">
                                                        <input type="text" class="form-control" id="piso" name="piso" value="{{ cliente.piso|default_if_none:"" }}">
                                                        <label for="piso">Piso</label>
                                                    </div>
                                                </div>

                                                <div class="col-sm-1">
                                                    <div class="form-group form-md-line-input form-md-floating-label">
                                                        <input type="text" class="form-control" id="depto" name="depto" value="{{ cliente.depto|default_if_none:"" }}">
                                                        <label for="depto">Depto</label>
                                                    </div>
                                                </div>

                                                <div class="col-sm-1">
                                                    <div class="form-group form-md-line-input form-md-floating-label">
                                                        <input type="text" class="form-control" id="cp" name="cp" value="{{ cliente.cp|default_if_none:"" }}" onchange="cargarLocalidad();">
                                                        <label for="cp">CP</label>
                                                    </div>
                                                </div>
                                                <div class="col-sm-2">
                                                    <div class="form-group form-md-line-input" id="selectLocalidad">
                                                        <select class="form-control" id="localidad" name="localidad" onchange="cargarProvincia();">
                                                            <option value="">Seleccione localidad</option>
                                                            {% for l in localidades %}
                                                                <option value="{{ l.id }}" >{{ l.nombre }}</option>
                                                            {% endfor %}
                                                        </select>
                                                        <label for="localidad">Localidad</label>
                                                    </div>
                                                </div>
                                                <div class="col-sm-2">
                                                    <div class="form-group form-md-line-input" id="selectProvincia">
                                                        <select class="form-control" id="provincia" name="provincia">
                                                            <option value="">Seleccione provincia</option>
                                                            {% for p in provincias %}
                                                                <option value="{{ p.id }}" >{{ p.nombre }}</option>
                                                            {% endfor %}
                                                        </select>
                                                        <label for="provincia">Provincia</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-actions noborder flex flex-j-between">
                                            <button type="button" onclick="guardarCliente();" class="btn green">Guardar</button>
                                            <button type="button" class="btn red">Cancelar</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <!-- END EXAMPLE TABLE PORTLET-->
                        </div>
                        <div id="clienteDetalle" class="col-sm-12">
                            <!-- BEGIN EXAMPLE TABLE PORTLET-->
                            <div class="portlet light ">
                                <div class="portlet-body">
                                    <div class="tabbable-line">
                                        <ul class="nav nav-tabs ">
                                            <li class="active">
                                                <a href="#tabCCCliente" data-toggle="tab" aria-expanded="true"> Centros de Costo </a>
                                            </li>
                                            <li class="">
                                                <a href="#tabSolicitantesCliente" data-toggle="tab" aria-expanded="true"> Solicitante </a>
                                            </li>
                                            <li class="">
                                                <a href="#tabPasajerosCliente" data-toggle="tab" aria-expanded="true"> Pasajeros </a>
                                            </li>
                                            <li class="">
                                                <a href="#tabDatosFacturacionCliente" data-toggle="tab" aria-expanded="false"> Facturación </a>
                                            </li>
                                            <!--li class="">
                                                <a href="#tabDatosMailsCliente" data-toggle="tab" aria-expanded="false"> Mails </a>
                                            </li-->
                                            <li class="">
                                                <a href="#tabDatosObservacionesCliente" data-toggle="tab" aria-expanded="false"> Observaciones </a>
                                            </li>
                                        </ul>
                                        <div class="tab-content">
                                            <div class="tab-pane active" id="tabCCCliente">
                                                <form role="form" id="form-datos-cliente-cc" class="form-datos-cliente-cc">{% csrf_token %}
                                                    <div class="form-body">
                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <!-- BEGIN EXAMPLE TABLE PORTLET-->
                                                                <div class="portlet light ">
                                                                    <div class="portlet-title">
                                                                        <div class="caption font-blue">
                                                                            <i class="icon-flag font-blue mg-t-8"></i>
                                                                            <span class="caption-subject bold uppercase">Centros de Costo</span>
                                                                            <a href="#add_cc_cliente" data-toggle="modal" role="button" class="btn green btn-outline mg-l-20">Agregar centro de costo</a>
                                                                        </div>
                                                                        <div class="tools"> </div>
                                                                    </div>
                                                                    <div class="portlet-body">
                                                                        <div id="grillaCentroCostos" >
                                                                        <table class="table table-striped table-bordered table-hover dt-responsive" width="100%" id="tablaCentroCostos">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th class="all">Editar</th>
                                                                                    <th class="all">Eliminar</th>
                                                                                    <th class="all">ID</th>
                                                                                    <th class="all">Código CC</th>
                                                                                    <th class="all">Descripción</th>
                                                                                    <th class="all">Tarifario</th>
                                                                                    <th class="all">Desde</th>
                                                                                    <th class="all">Hasta</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                {% for cc in cliente.getCentroCostos %}
                                                                                <tr>
                                                                                    <td class="text-center"><a href="#" onclick="editarCCPropect('{{ cc.id }}','{{ cliente.id }}','{{ cc.nombre }}','{{ cc.descripcion }}','{{ cc.getFechaInicio }}','{{ cc.getFechaFin }}','{{ cc.tarifario.id }}');"><i class="fa fa-pencil"></i></a></td>
                                                                                    <td class="text-center"><a href="#" onclick="eliminarCCPropect('{{ cc.id }}','{{ cliente.id }}');"><i class="fa fa-minus-circle"></i></a></td>
                                                                                    <td>{{ cc.id }}</td>
                                                                                    <td>{{ cc.nombre }}</td>
                                                                                    <td>{{ cc.descripcion }}</td>
                                                                                    <td>{{ cc.tarifario.nombre }}</td>
                                                                                    <td>{{ cc.getFechaInicio }}</td>
                                                                                    <td>{{ cc.getFechaFin }}</td>   
                                                                                </tr>
                                                                                {% endfor %}
                                                                            </tbody>
                                                                        </table>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="col-md-12">
                                                                            <input type="hidden" id="idClienteCC" name="idClienteCC" value="0">
                                                                            <input type="hidden" id="idClienteEnCC" name="idClienteEnCC" value="{{ cliente.id }}">
                                                                            <div id="add_cc_cliente" class="modal fade" tabindex="-1" aria-hidden="true">
                                                                                <div class="modal-dialog">
                                                                                    <div class="modal-content">
                                                                                        <div class="modal-header">
                                                                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                                                                                            <h4 class="modal-title" style="color:#888;">Agregar Centro de Costo</h4>
                                                                                        </div>
                                                                                        <div class="modal-body">
                                                                                            <div class="scroller" style="height:200px" data-always-visible="1" data-rail-visible1="1">
                                                                                                <div class="row">
                                                                                                    <div class="col-sm-4">
                                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                            <input type="text" class="form-control" id="codigoCCCliente" name="codigoCCCliente">
                                                                                                            <label for="codigoCCCliente">Código Centro de Costo</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="col-sm-4">
                                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                            <input type="email" class="form-control" id="descripcionCCCliente" name="descripcionCCCliente">
                                                                                                            <label for="descripcionCCCliente">Descripción</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="col-sm-4">
                                                                                                        <div class="form-group form-md-line-input">
                                                                                                            <select class="form-control" id="selectTarifariosCCCliente" name="selectTarifariosCCCliente" >
                                                                                                                {% for t in tarifarios %}
                                                                                                                    <option value="{{ t.id }}">{{ t.nombre }}</option>
                                                                                                                {% endfor %}
                                                                                                            </select>
                                                                                                            <label for="selectTarifariosCCCliente">Tarifarios</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="row mg-t-20">
                                                                                                    <div class="col-sm-6">
                                                                                                        <label for="desdeCC font-12">Válido Desde</label>
                                                                                                        <input class="form-control form-control-inline input-medium date-picker" id="desdeCC" name="desdeCC" size="16" type="text" value="" />
                                                                                                    </div>
                                                                                                    <div class="col-sm-6">
                                                                                                        <label for="hastaCC font-12">Válido Hasta</label>
                                                                                                        <input class="form-control form-control-inline input-medium date-picker" id="hastaCC" name="hastaCC" size="16" type="text" value="" />
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="modal-footer noborder flex flex-j-between">
                                                                                          <button type="button" onclick="guardarCentroCosto();" class="btn green">Guardar</button>
                                                                                          <button type="button" class="btn red" data-dismiss="modal">Cancelar</button>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <!-- END EXAMPLE TABLE PORTLET-->
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-actions noborder flex flex-j-between">
                                                        <button type="button" class="btn green">Guardar</button>
                                                        <button type="button" class="btn red">Cancelar</button>
                                                    </div>
                                                </form>
                                            </div>
                                            <div class="tab-pane" id="tabSolicitantesCliente">
                                                <form role="form" class="form-datos-cliente-solicitante">
                                                    <div class="form-body">
                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <!-- BEGIN EXAMPLE TABLE PORTLET-->
                                                                <div class="portlet light ">
                                                                    <div class="portlet-title">
                                                                        <div class="caption font-blue">
                                                                            <i class="icon-user font-blue mg-t-8"></i>
                                                                            <span class="caption-subject bold uppercase">Solicitante</span>
                                                                            <a href="/sistema/contacto/" role="button" class="btn green btn-outline mg-l-20">Agregar solicitante</a>
                                                                        </div>
                                                                        <div class="tools"> </div>
                                                                    </div>
                                                                    <div class="portlet-body">
                                                                        <table class="table table-striped table-bordered table-hover dt-responsive" width="100%" id="tablaSolicitanteClientes">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th class="all">Editar</th>
                                                                                    <th class="all">Nombre</th>
                                                                                    <th class="all">Apellido</th>
                                                                                    <th class="all">Puesto</th>
                                                                                    <th class="all">Teléfono</th>
                                                                                    <th class="all">Mail</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr>
                                                                                    <td class="text-center"><a href="/sistema/contacto/"><i class="fa fa-pencil"></i></a></td>
                                                                                    <td>Juan</td>
                                                                                    <td>Perez</td>
                                                                                    <td>Comercial</td>
                                                                                    <td>4578-8978</td>
                                                                                    <td>ejemplo@mail.com</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td class="text-center"><a href="/sistema/contacto/"><i class="fa fa-pencil"></i></a></td>
                                                                                    <td>Maria</td>
                                                                                    <td>Duarte</td>
                                                                                    <td>Comercial</td>
                                                                                    <td>5488-7848</td>
                                                                                    <td>ejemplo@mail.com</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td class="text-center"><a href="/sistema/contacto/"><i class="fa fa-pencil"></i></a></td>
                                                                                    <td>Candelaria</td>
                                                                                    <td>Duarte</td>
                                                                                    <td>Asistente</td>
                                                                                    <td>4488-7848</td>
                                                                                    <td>ejemplo@mail.com</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td class="text-center"><a href="/sistema/contacto/"><i class="fa fa-pencil"></i></a></td>
                                                                                    <td>Federico</td>
                                                                                    <td>Perez</td>
                                                                                    <td>Asistente</td>
                                                                                    <td>4678-6858</td>
                                                                                    <td>ejemplo@mail.com</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                                <!-- END EXAMPLE TABLE PORTLET-->
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-actions noborder flex flex-j-between">
                                                        <button type="button" class="btn green">Guardar</button>
                                                        <button type="button" class="btn red">Cancelar</button>
                                                    </div>
                                                </form>
                                            </div>
                                            <div class="tab-pane" id="tabPasajerosCliente">
                                                <form role="form" class="form-datos-cliente-pasajeros">
                                                    <div class="form-body">
                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <!-- BEGIN EXAMPLE TABLE PORTLET-->
                                                                <div class="portlet light ">
                                                                    <div class="portlet-title">
                                                                        <div class="caption font-blue">
                                                                            <i class="icon-user font-blue mg-t-8"></i>
                                                                            <span class="caption-subject bold uppercase">Pasajeros</span>
                                                                            <a href="#add_pasajero_cliente" role="button" data-toggle="modal" class="btn green btn-outline mg-l-20">Agregar pasajero</a>
                                                                        </div>
                                                                        <div class="tools"> </div>
                                                                    </div>
                                                                    <div class="portlet-body">
                                                                        <table class="table table-striped table-bordered table-hover dt-responsive" width="100%" id="tablaPasajeroClientes">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th class="all">Editar</th>
                                                                                    <th class="all">Nombre</th>
                                                                                    <th class="all">Apellido</th>
                                                                                    <th class="all">DNI</th>
                                                                                    <th class="all">Nacionalidad</th>
                                                                                    <th class="all">Domicilio</th>
                                                                                    <th class="all">Teléfono</th>
                                                                                    <th class="all">Comentario</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr>
                                                                                    <td class="text-center"><a href=""><i class="fa fa-pencil"></i></a></td>
                                                                                    <td>Juan</td>
                                                                                    <td>Perez</td>
                                                                                    <td>25874698</td>
                                                                                    <td>Argentino</td>
                                                                                    <td>Av. Nazca 2500</td>
                                                                                    <td>4578-8978</td>
                                                                                    <td>Rompe huevos</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td class="text-center"><a href=""><i class="fa fa-pencil"></i></a></td>
                                                                                    <td>Maria</td>
                                                                                    <td>Duarte</td>
                                                                                    <td>36875968</td>
                                                                                    <td>Checoslovaca</td>
                                                                                    <td>Calle Falsa 123</td>
                                                                                    <td>5488-7848</td>
                                                                                    <td>No le gustan los Simpsons</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td class="text-center"><a href=""><i class="fa fa-pencil"></i></a></td>
                                                                                    <td>Candelaria</td>
                                                                                    <td>Duarte</td>
                                                                                    <td>32555777</td>
                                                                                    <td>Uruguaya</td>
                                                                                    <td>Artigas 2345</td>
                                                                                    <td>4488-7848</td>
                                                                                    <td>Simpática</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td class="text-center"><a href=""><i class="fa fa-pencil"></i></a></td>
                                                                                    <td>Federico</td>
                                                                                    <td>Perez</td>
                                                                                    <td>24888999</td>
                                                                                    <td>Argentino</td>
                                                                                    <td>Corriente 1234</td>
                                                                                    <td>4678-6858</td>
                                                                                    <td>Mala onda</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="col-md-12">
                                                                            <input type="hidden" id="idCLientePasajero" name="idCLientePasajero" value="{{ cliente.id }}">
                                                                            <div id="add_pasajero_cliente" class="modal fade" tabindex="-1" aria-hidden="true">
                                                                                <div class="modal-dialog">
                                                                                    <div class="modal-content">
                                                                                        <div class="modal-header">
                                                                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                                                                                            <h4 class="modal-title" style="color:#888;">Agregar Pasajero</h4>
                                                                                        </div>
                                                                                        <div class="modal-body">
                                                                                            <div class="scroller" style="height:300px" data-always-visible="1" data-rail-visible1="1">
                                                                                                <div class="row">
                                                                                                    <div class="col-sm-6">
                                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                            <input type="text" class="form-control" id="nombrePasajeroCliente" name="nombrePasajeroCliente">
                                                                                                            <label for="nombrePasajeroCliente">Nombre</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="col-sm-6">
                                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                            <input type="text" class="form-control" id="apellidoPasajeroCliente" name="apellidoPasajeroCliente">
                                                                                                            <label for="apellidoPasajeroCliente">Apellido</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="row">
                                                                                                    <div class="col-sm-4">
                                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                            <input type="email" class="form-control" id="telefonoPasajeroCliente" name="telefonoPasajeroCliente">
                                                                                                            <label for="telefonoPasajeroCliente">Teléfono</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="col-sm-4">
                                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                            <input type="email" class="form-control" id="documentoPasajeroCliente" name="documentoPasajeroCliente">
                                                                                                            <label for="documentoPasajeroCliente">DNI</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="col-sm-4">
                                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                            <input type="email" class="form-control" id="nacionalidadPasajeroCliente" name="nacionalidadPasajeroCliente">
                                                                                                            <label for="nacionalidadPasajeroCliente">Nacionalidad</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="row">
                                                                                                    <div class="col-sm-6">
                                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                            <input type="email" class="form-control" id="direcciónPasajeroCliente" name="direcciónPasajeroCliente">
                                                                                                            <label for="direcciónPasajeroCliente">Dirección</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="col-sm-6">
                                                                                                        <div class="form-group form-md-line-input">
                                                                                                            <textarea class="form-control" rows="1" name="comentarioPasajeroCliente" id="comentarioPasajeroCliente" placeholder=""></textarea>
                                                                                                            <label for="comentarioPasajeroCliente">Comentario</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="modal-footer noborder flex flex-j-between">
                                                                                          <button type="button" onclick="agregarPasajero()" class="btn green">Guardar</button>
                                                                                          <button type="button" class="btn red" data-dismiss="modal">Cancelar</button>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <!-- END EXAMPLE TABLE PORTLET-->
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-actions noborder flex flex-j-between">
                                                        <button type="button" class="btn green">Guardar</button>
                                                        <button type="button" class="btn red">Cancelar</button>
                                                    </div>
                                                </form>
                                            </div>
                                            <div class="tab-pane" id="tabDatosFacturacionCliente">
                                                <form role="form" class="form-datos-cliente-facturacion">
                                                    <div class="form-body">
                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <!-- BEGIN EXAMPLE TABLE PORTLET-->
                                                                <div class="portlet light ">
                                                                    <div class="portlet-title">
                                                                        <div class="caption font-blue">
                                                                            <i class="icon-folder-alt font-blue"></i>
                                                                            <span class="caption-subject bold uppercase">Datos de Facturación</span>
                                                                        </div>
                                                                        <div class="tools"> </div>
                                                                    </div>
                                                                    <div class="portlet-body">
                                                                        <div class="row">
                                                                            <div class="col-sm-3">
                                                                                <div class="form-group form-md-line-input">
                                                                                    <input type="text" class="form-control" id="form_control_1" value="30-12345678-2">
                                                                                    <label for="form_control_1">CUIT</label>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-sm-3">
                                                                                <div class="form-group form-md-line-input">
                                                                                    <select class="form-control" id="form_control_2">
                                                                                        <option value=""></option>
                                                                                        <option value="1" selected="selected">Responsable Inscripto</option>
                                                                                        <option value="2">Option 2</option>
                                                                                        <option value="3">Option 3</option>
                                                                                        <option value="4">Option 4</option>
                                                                                    </select>
                                                                                    <label for="form_control_2">IVA</label>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-sm-3">
                                                                                <div class="form-group form-md-line-input">
                                                                                    <select class="form-control" id="form_control_3">
                                                                                        <option value=""></option>
                                                                                        <option value="1" selected="selected">Efectivo</option>
                                                                                        <option value="2">Option 2</option>
                                                                                        <option value="3">Option 3</option>
                                                                                        <option value="4">Option 4</option>
                                                                                    </select>
                                                                                    <label for="form_control_3">Condición de Pago</label>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-sm-3">
                                                                                <div class="form-group form-md-line-input">
                                                                                    <input type="text" class="form-control" id="form_control_7" value="15 días">
                                                                                    <label for="form_control_7">Días fecha factura</label>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                        <div class="row">
                                                                            <div class="col-sm-4">
                                                                                <div class="form-group form-md-line-input">
                                                                                    <input type="text" class="form-control" id="form_control_5" value="12345678910123456789012">
                                                                                    <label for="form_control_5">CBU</label>
                                                                                </div>
                                                                            </div>
                                                                            <div class="col-sm-4">
                                                                                <div class="form-group form-md-line-input">
                                                                                    <input type="text" class="form-control" id="form_control_6" value="perro.caca.pis">
                                                                                    <label for="form_control_6">Alias</label>
                                                                                </div>
                                                                            </div>
                                                                            
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <div class="portlet light ">
                                                                    <div class="portlet-title">
                                                                        <div class="caption font-blue">
                                                                            <i class="icon-folder-alt font-blue"></i>
                                                                            <span class="caption-subject bold uppercase">Listado de facturas</span>
                                                                        </div>
                                                                        <div class="tools"> </div>
                                                                    </div>
                                                                    <div class="portlet-body">
                                                                        <table class="table table-striped table-bordered table-hover dt-responsive" width="100%" id="tablaListadoFacturasCliente">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th class="all">Ver</th>
                                                                                    <th class="all">Número</th>
                                                                                    <th class="all">Fecha</th>
                                                                                    <th class="all">Importe</th>
                                                                                    <th class="all">Estado</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                <tr>
                                                                                    <td class="text-center"><a href=""><i class="fa fa-eye"></i></a></td>
                                                                                    <td>0001-00000001</td>
                                                                                    <td>10/05/2018</td>
                                                                                    <td>$2.800</td>
                                                                                    <td>Emitida</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td class="text-center"><a href=""><i class="fa fa-eye"></i></a></td>
                                                                                    <td>0001-00000002</td>
                                                                                    <td>15/05/2018</td>
                                                                                    <td>$2.500</td>
                                                                                    <td>Cobrada</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td class="text-center"><a href=""><i class="fa fa-eye"></i></a></td>
                                                                                    <td>0001-00000003</td>
                                                                                    <td>10/08/2018</td>
                                                                                    <td>$12.800</td>
                                                                                    <td>Emitida</td>
                                                                                </tr>
                                                                                <tr>
                                                                                    <td class="text-center"><a href=""><i class="fa fa-eye"></i></a></td>
                                                                                    <td>0001-00000004</td>
                                                                                    <td>10/09/2018</td>
                                                                                    <td>$22.800</td>
                                                                                    <td>Emitida</td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </div>
                                                                </div>
                                                                <!-- END EXAMPLE TABLE PORTLET-->
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-actions noborder flex flex-j-between">
                                                        <button type="button" class="btn green">Guardar</button>
                                                        <button type="button" class="btn red">Cancelar</button>
                                                    </div>
                                                </form>
                                            </div>
                                            <div class="tab-pane" id="tabDatosMailsCliente">
                                                <form role="form" id="form-datos-cliente-mails" class="form-datos-cliente-mails">{% csrf_token %}
                                                    <div class="form-body">
                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <!-- BEGIN EXAMPLE TABLE PORTLET-->
                                                                <div class="portlet light ">
                                                                    <div class="portlet-title">
                                                                        <div class="caption font-blue">
                                                                            <i class="icon-notebook font-blue mg-t-8"></i>
                                                                            <span class="caption-subject bold uppercase">Mails</span>
                                                                            <a href="#add_mail_cliente" role="button" data-toggle="modal" class="btn green btn-outline mg-l-20">Agregar mail</a>
                                                                        </div>
                                                                        <div class="tools"> </div>
                                                                    </div>
                                                                    <div class="portlet-body">
                                                                        <div id="grillaMail" >
                                                                            <table class="table table-striped table-bordered table-hover dt-responsive" width="100%" id="tablaMailClientes">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th class="all">Nombre</th>
                                                                                        <th class="all">Comentario</th>
                                                                                        <th class="all">Mail</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                    {% for m in cliente.getMails %}
                                                                                    <tr>
                                                                                        <td>{{ m.nombre }}</td>
                                                                                        <td>{{ m.comentario }}</td>
                                                                                        <td>{{ m.mail }}</td>
                                                                                    </tr>
                                                                                    {% endfor %}
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="row">
                                                                            <div class="col-md-12">
                                                                                <input type="hidden" id="idClienteMail" name="idClienteMail" value="{{ cliente.id }}">
                                                                                <div id="add_mail_cliente" class="modal fade" tabindex="-1" aria-hidden="true">
                                                                                    <div class="modal-dialog">
                                                                                        <div class="modal-content">
                                                                                            <div class="modal-header">
                                                                                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                                                                                                <h4 class="modal-title" style="color:#888;">Agregar Mail</h4>
                                                                                            </div>
                                                                                            <div class="modal-body">
                                                                                                <div class="scroller" style="height:200px" data-always-visible="1" data-rail-visible1="1">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-6">
                                                                                                            <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                                <input type="text" class="form-control" id="nombreMailCliente" name="nombreMailCliente">
                                                                                                                <label for="mailCliente">Nombre</label>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="col-sm-6">
                                                                                                            <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                                <input type="email" class="form-control" id="mailCliente" name="mailCliente">
                                                                                                                <label for="mailCliente">Mail</label>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-12">
                                                                                                            <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                                <input type="text" class="form-control" id="comentarioMailCliente" name="comentarioMailCliente">
                                                                                                                <label for="comentarioMailCliente">Comentario</label>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="modal-footer noborder flex flex-j-between">
                                                                                              <button type="button" onclick="agregarMail()" class="btn green">Guardar</button>
                                                                                              <button type="button" class="btn red" data-dismiss="modal">Cancelar</button>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <!-- END EXAMPLE TABLE PORTLET-->
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-actions noborder flex flex-j-between">
                                                        <button type="button" class="btn green">Guardar</button>
                                                        <button type="button" class="btn red">Cancelar</button>
                                                    </div>
                                                </form>
                                            </div>
                                            <div class="tab-pane" id="tabDatosObservacionesCliente">
                                                <form role="form" id="form-datos-cliente-observacion" class="form-datos-cliente-observacion">{% csrf_token %}
                                                    <div class="form-body">
                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <!-- BEGIN EXAMPLE TABLE PORTLET-->
                                                                <div class="portlet light ">
                                                                    <div class="portlet-title">
                                                                        <div class="caption font-blue">
                                                                            <i class="icon-notebook font-blue mg-t-8"></i>
                                                                            <span class="caption-subject bold uppercase">Observaciones</span>
                                                                            <a href="#add_observacion_cliente" role="button" data-toggle="modal" class="btn green btn-outline mg-l-20">Agregar observación</a>
                                                                        </div>
                                                                        <div class="tools"> </div>
                                                                    </div>
                                                                    <div class="portlet-body">
                                                                        <div id="grillaObservaciones" >
                                                                            <table class="table table-striped table-bordered table-hover dt-responsive" width="100%" id="tablaObservacionClientes">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th class="all">Fecha</th>
                                                                                        <th class="all">Usuario</th>
                                                                                        <th class="all">Observación</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                    {% for o in cliente.getObservaciones %}
                                                                                    <tr>
                                                                                        <td>{{ o.getFechaHora }}</td>
                                                                                        <td>{{ o.usuario }}</td>
                                                                                        <td>{{ o.texto }}</td>
                                                                                    </tr>
                                                                                    {% endfor %}
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="row">
                                                                            <div class="col-md-12">
                                                                                <input type="hidden" id="idClienteObser" name="idClienteObser" value="{{ cliente.id }}">
                                                                                <div id="add_observacion_cliente" class="modal fade" tabindex="-1" aria-hidden="true">
                                                                                    <div class="modal-dialog">
                                                                                        <div class="modal-content">
                                                                                            <div class="modal-header">
                                                                                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                                                                                                <h4 class="modal-title" style="color:#888;">Agregar Observación</h4>
                                                                                            </div>
                                                                                            <div class="modal-body">
                                                                                                <div class="scroller" style="height:100px" data-always-visible="1" data-rail-visible1="1">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-6 col-sm-offset-3">
                                                                                                            <div class="form-group form-md-line-input">
                                                                                                                <textarea class="form-control" rows="3" name="textAreaObservacion" id="textAreaObservacion" placeholder=""></textarea>
                                                                                                                <label for="textAreaObservacion">Observaciones del cliente</label>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="modal-footer noborder flex flex-j-between">
                                                                                              <button type="button" onclick="agregarObservacion()" class="btn green">Guardar</button>
                                                                                              <button type="button" class="btn red" data-dismiss="modal">Cancelar</button>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <!-- END EXAMPLE TABLE PORTLET-->
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-actions noborder flex flex-j-between">
                                                        <button type="button" class="btn green">Guardar</button>
                                                        <button type="button" class="btn red">Cancelar</button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- END EXAMPLE TABLE PORTLET-->
                        </div>
                    </div>

                </div>
                <!-- END CONTENT BODY -->
            </div>
            <!-- END CONTENT -->
            <!-- BEGIN QUICK SIDEBAR -->
            <!-- END QUICK SIDEBAR -->
        </div>
        <!-- END CONTAINER -->
        {% include "sistema/footer.html" %}

            <!-- SCRIPTS PROPIOS DE ESTA VISTA -->
            <script>
                $(document).ready(function(){

                    $('#tablaSolicitanteClientes').DataTable( {
                        responsive: true,
                        // scrollY: 200,
                        order: [[ 1, "asc" ]],
                        lengthMenu: [
                                        [ -1, 500, 100, 50, 25, 10 ],
                                        [ 'Todos', '500', '100', '50', '25', '10' ]
                                    ],
                        language: {
                            url: '//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json'
                        },
                    } );

                    $('#tablaPasajeroClientes').DataTable( {
                        responsive: true,
                        // scrollY: 200,
                        order: [[ 1, "asc" ]],
                        lengthMenu: [
                                        [ -1, 500, 100, 50, 25, 10 ],
                                        [ 'Todos', '500', '100', '50', '25', '10' ]
                                    ],
                        language: {
                            url: '//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json'
                        },
                    } );

                    $('#tablaClientes').DataTable( {
                        responsive: true,
                        // scrollY: 200,
                        order: [[ 0, "asc" ]],
                        lengthMenu: [
                                        [ -1, 500, 100, 50, 25, 10 ],
                                        [ 'Todos', '500', '100', '50', '25', '10' ]
                                    ],
                        language: {
                            url: '//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json'
                        },
                    } );

                    $('#tablaMailClientes').DataTable( {
                        responsive: true,
                        // scrollY: 200,
                        order: [[ 0, "asc" ]],
                        lengthMenu: [
                                        [ -1, 500, 100, 50, 25, 10 ],
                                        [ 'Todos', '500', '100', '50', '25', '10' ]
                                    ],
                        language: {
                            url: '//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json'
                        },
                    } );

                    $('#tablaObservacionClientes').DataTable( {
                        responsive: true,
                        // scrollY: 200,
                        order: [[ 0, "asc" ]],
                        lengthMenu: [
                                        [ -1, 500, 100, 50, 25, 10 ],
                                        [ 'Todos', '500', '100', '50', '25', '10' ]
                                    ],
                        language: {
                            url: '//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json'
                        },
                    } );

                    $('#tablaListadoFacturasCliente').DataTable( {
                        responsive: true,
                        // scrollY: 200,
                        order: [[ 1, "asc" ]],
                        lengthMenu: [
                                        [ -1, 500, 100, 50, 25, 10 ],
                                        [ 'Todos', '500', '100', '50', '25', '10' ]
                                    ],
                        language: {
                            url: '//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json'
                        },
                    } );

                    $('#desdeCC').datepicker({
                        language: 'es',
                        dateFormat: 'dd/mm/yy',
                        // todayBtn: true,
                        todayHighlight: true,
                        autoclose: true
                    });

                    $('#hastaCC').datepicker({
                        language: 'es',
                        dateFormat: 'dd/mm/yy',
                        // todayBtn: true,
                        todayHighlight: true,
                        autoclose: true
                    });

                    var idCliente = $("#idCliente").val()
                    if (idCliente == "0"){
                        $("#clienteDetalle").hide()
                    }else{
                        $("#clienteDetalle").show()
                    }

                    $("#mensajeValidacion").html("");
                    $("#clienteValidacion").hide();
                });

                function guardarCliente(){

                    if ($("#razonSocial").val() == ""){
                        $("#mensajeValidacion").html("El campo Razón Social es obligatorio.");
                        $("#clienteValidacion").show()
                        return false;
                    }
                    if ($("#cuil").val() == ""){
                        $("#mensajeValidacion").html("El campo CUIL/CUIT es obligatorio.");
                        $("#clienteValidacion").show()
                        return false;
                    }
                    if ($("#calle").val() == ""){
                        $("#mensajeValidacion").html("El campo Calle es obligatorio.");
                        $("#clienteValidacion").show()
                        return false;
                    }
                    if ($("#altura").val() == ""){
                        $("#mensajeValidacion").html("El campo Altura es obligatorio.");
                        $("#clienteValidacion").show()
                        return false;
                    }
                    if ($("#telefono").val() == ""){
                        $("#mensajeValidacion").html("El campo Telefono es obligatorio.");
                        $("#clienteValidacion").show()
                        return false;
                    }
                    if ($("#tarifarios").val() == ""){
                        $("#mensajeValidacion").html("El Tarifario es obligatorio.");
                        $("#clienteValidacion").show()
                        return false;
                    }

                    $("#formGuardarCliente").submit();
                    
                }

                function agregarObservacion(){
                    if ($('#textAreaObservacion').val() == ""){
                        alert("Campo observacion es obligatorio");
                    }else{
                        var url = "/sistema/guardarObservacionCliente/";
                        $.ajax({
                            type: "POST",
                            url: url,
                            data: $("#form-datos-cliente-observacion").serialize(),
                            success: function(data){
                                $("#grillaObservaciones").html(data);
                            }
                        });
                        $('#add_observacion_cliente').modal('toggle');
                    }
                }

                function agregarMail(){
                    if ($('#mailCliente').val() == ""){
                        alert("Campo mail es obligatorio");
                    }else{
                        var url = "/sistema/guardarMailCliente/";
                        $.ajax({
                            type: "POST",
                            url: url,
                            data: $("#form-datos-cliente-mails").serialize(),
                            success: function(data){
                                $("#grillaMail").html(data);
                            }
                        });
                        $('#add_mail_cliente').modal('toggle');
                    }
                }

                function cargarLocalidad(){
                    var url = "/sistema/cargarLocalidad/";
                    param = 'codigoPostal='+$("#cp").val();
                    $.ajax({
                        type: "POST",
                        url: url,
                        headers: {'X-CSRFToken': '{{ csrf_token }}'},
                        data: param,
                        success: function(data){
                            $("#selectLocalidad").html(data);
                            cargarProvincia()
                        }
                    });
                }

                function cargarProvincia(){
                    var url = "/sistema/cargarProvincia/";
                    param = 'idLocalidad='+$("#localidad").val();
                    $.ajax({
                        type: "POST",
                        url: url,
                        headers: {'X-CSRFToken': '{{ csrf_token }}'},
                        data: param,
                        success: function(data){
                            $("#selectProvincia").html(data);
                        }
                    });
                    
                }

                function editarCCPropect(ccid,clienteid,nombre,descripcion,fechaInicio,fechaFin,tarifa){
                    $('#idClienteCC').val(ccid);
                    $('#codigoCCCliente').val(nombre);
                    $('#descripcionCCCliente').val(descripcion);
                    $('#selectTarifariosCCCliente').val(tarifa);
                    $('#desdeCC').val(fechaInicio);
                    $('#hastaCC').val(fechaFin);
                    $('#add_cc_cliente').modal('toggle');
                }

                function guardarCentroCosto(){
                    if ($('#codigoCCCliente').val() == ""){
                        alert("El Codigo es obligatorio.")
                        return false;
                    }
                    if ($('#desdeCC').val() == ""){
                        alert("La fecha desde es obligatoria.")
                        return false;
                    }

                    var url = "/sistema/guardarCentroCostoProspect/";
                    $.ajax({
                        type: "POST",
                        url: url,
                        headers: {'X-CSRFToken': '{{ csrf_token }}'},
                        data: $("#form-datos-cliente-cc").serialize(),
                        success: function(data){
                            $('#idClienteCC').val("0");
                            $('#codigoCCCliente').val("");
                            $('#descripcionCCCliente').val("");
                            $('#selectTarifariosCCCliente').val("");
                            $('#desdeCC').val("");
                            $('#hastaCC').val("");
                            $("#grillaCentroCostos").html(data);
                            $('#add_cc_cliente').modal('toggle');
                        }
                    });
                }
                

            </script>

        </div>
    </body>

</html>