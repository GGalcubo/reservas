{% load static %}
<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8 no-js"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9 no-js"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
    <!--<![endif]-->
    {% include "sistema/cabecera.html" %}
    <body class="page-header-fixed page-sidebar-closed-hide-logo page-container-bg-solid page-sidebar-reversed page-sidebar-fixed page-md">
        {% include "sistema/barra_top.html" %}
        <div class="page-container">
            {% include "sistema/barra_lat.html" %}
            <!-- BEGIN CONTENT -->
            <div class="page-content-wrapper">
                <!-- BEGIN CONTENT BODY -->
                <div class="page-content">
                    <div class="page-bar">
                        <ul class="page-breadcrumb">
                            <li>
                                <i class="icon-home"></i>
                                <a href="/sistema/operaciones/">Operaciones</a>
                                <i class="fa fa-angle-right"></i>
                            </li>
                            <li>
                                <a href="/sistema/listadoCliente/">Listado de Clientes</a>
                                <i class="fa fa-angle-right"></i>
                            </li>
                            <li>
                                <span>Cliente</span>
                            </li>
                        </ul>
                    </div>
                    <div class="row">
                        <div class="col-sm-12">
                            <!-- BEGIN EXAMPLE TABLE PORTLET-->
                            <div class="portlet light ">
                                <div class="portlet-title">
                                    <div class="caption font-blue">
                                        <i class="icon-briefcase font-blue"></i>
                                        <span class="caption-subject bold uppercase">Alta/Edición de cliente</span>
                                    </div>
                                    <div class="tools"> </div>
                                </div>
                                <div id="clienteValidacion" class="alert alert-danger">
                                    <button class="close" data-close="alert"></button> 
                                    <div></div> <div id="mensajeValidacion" ></div> 
                                </div>
                                <div class="portlet-body">
                                    <form role="form" method="post" id="formGuardarCliente" action="/sistema/guardarCliente/">{% csrf_token %}
                                        <input type="hidden" id="idCliente" name="idCliente" value="{{ cliente.id }}">
                                        <div class="form-body">
                                            <div class="row">
                                                <div class="col-sm-4">
                                                    <div class="form-group form-md-line-input form-md-floating-label">
                                                        <input type="text" class="form-control" id="razonSocial" name="razonSocial" value="{{ cliente.razon_social|default_if_none:"" }}">
                                                        <label for="razonSocial">Nombre o Razón Social</label>
                                                    </div>
                                                </div>
                                                <div class="col-sm-3">
                                                    <div class="form-group form-md-line-input form-md-floating-label">
                                                        <input type="text" class="form-control" id="cuil" name="cuil"  value="{{ cliente.cuil|default_if_none:"" }}">
                                                        <label for="cuil">CUIL/CUIT</label>
                                                    </div>
                                                </div>
                                                <div class="col-sm-3">
                                                    <div class="form-group form-md-line-input form-md-floating-label">
                                                        {% if cliente.id == 0 %}
                                                            <input type="text" class="form-control" id="telefono" name="telefono"  value="">
                                                        {% else %}
                                                            <input type="text" class="form-control" id="telefono" name="telefono"  value="{{ cliente.telefonoPrincipal }}">
                                                        {% endif %}
                                                        <label for="telefono">Teléfono</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-3">
                                                    <div class="form-group form-md-line-input form-md-floating-label">
                                                        <input type="text" class="form-control" id="calle" name="calle" value="{{ cliente.calle|default_if_none:"" }}">
                                                        <label for="calle">Calle</label>
                                                    </div>
                                                </div>

                                                <div class="col-sm-2">
                                                    <div class="form-group form-md-line-input form-md-floating-label">
                                                        <input type="text" class="form-control" id="altura" name="altura" value="{{ cliente.altura|default_if_none:"" }}">
                                                        <label for="altura">Altura</label>
                                                    </div>
                                                </div>
                                                <div class="col-sm-1">
                                                    <div class="form-group form-md-line-input form-md-floating-label">
                                                        <input type="text" class="form-control" id="piso" name="piso" value="{{ cliente.piso|default_if_none:"" }}">
                                                        <label for="piso">Piso</label>
                                                    </div>
                                                </div>

                                                <div class="col-sm-1">
                                                    <div class="form-group form-md-line-input form-md-floating-label">
                                                        <input type="text" class="form-control" id="depto" name="depto" value="{{ cliente.depto|default_if_none:"" }}">
                                                        <label for="depto">Depto</label>
                                                    </div>
                                                </div>

                                                <div class="col-sm-1">
                                                    <div class="form-group form-md-line-input form-md-floating-label">
                                                        <input type="text" class="form-control" id="cp" name="cp" value="{{ cliente.cp|default_if_none:"" }}" onchange="cargarLocalidad();">
                                                        <label for="cp">CP</label>
                                                    </div>
                                                </div>
                                                <div class="col-sm-2">
                                                    <div class="form-group form-md-line-input form-md-floating-label">
                                                        <input type="text" class="form-control" id="localidad" name="localidad" value="{{ cliente.localidad|default_if_none:"" }}">
                                                        <label for="localidad">Localidad</label>
                                                    </div>
                                                </div>
                                                <div class="col-sm-2">
                                                    <div class="form-group form-md-line-input form-md-floating-label">
                                                        <input type="text" class="form-control" id="provincia" name="provincia" value="{{ cliente.provincia|default_if_none:"" }}">
                                                        <label for="provincia">Provincia</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <hr>
                                            <div class="row">
                                                <div class="col-sm-4">
                                                    <div class="form-group form-md-line-input">
                                                        <select class="form-control" id="iva" name="iva" >
                                                            <option value=""></option>
                                                            {% for i in ivas %}
                                                                <option value="{{ i.id }}" {% if i.id == cliente.iva.id %}selected{% endif %}>{{ i.iva }}</option>
                                                            {% endfor %}
                                                        </select>
                                                        <label for="iva">IVA</label>
                                                    </div>
                                                </div>
                                                <div class="col-sm-4">
                                                    <div class="form-group form-md-line-input">
                                                        <select class="form-control" id="condicionPago" name="condicionPago" >
                                                            <option value=""></option>
                                                            {% for c in condiciones %}
                                                                <option value="{{ c.id }}" {% if c.id == cliente.condicion_pago.id %}selected{% endif %}>{{ c.condicion_pago }}</option>
                                                            {% endfor %}
                                                        </select>
                                                        <label for="condicionPago">Condición de Pago</label>
                                                    </div>
                                                </div>
                                                <div class="col-sm-4">
                                                    <div class="form-group form-md-line-input">
                                                        <input type="text" class="form-control" id="diasFechaFactura" name="diasFechaFactura" value="{{ cliente.dias_fechas_facturas|default_if_none:"" }}">
                                                        <label for="diasFechaFactura">Días fecha factura</label>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col-sm-4">
                                                    <div class="form-group form-md-line-input">
                                                        <input type="text" class="form-control" id="cbu" name="cbu" value="{{ cliente.cbu|default_if_none:"" }}">
                                                        <label for="cbu">CBU</label>
                                                    </div>
                                                </div>
                                                <div class="col-sm-4">
                                                    <div class="form-group form-md-line-input">
                                                        <input type="text" class="form-control" id="alias" name="alias" value="{{ cliente.alias|default_if_none:"" }}">
                                                        <label for="alias">Alias</label>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-actions noborder flex">
                                            <button type="button" onclick="guardarCliente();" class="btn green btn-outline mg-r-10">Guardar</button>
                                            <button type="button" class="btn btn-outline red">Cancelar</button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                            <!-- END EXAMPLE TABLE PORTLET-->
                        </div>
                        <div id="clienteDetalle" class="col-sm-12">
                            <!-- BEGIN EXAMPLE TABLE PORTLET-->
                            <div class="portlet light ">
                                <div class="portlet-body">
                                    <div class="tabbable-line">
                                        <ul class="nav nav-tabs ">
                                            <li class="active">
                                                <a href="#tabCCCliente" data-toggle="tab" aria-expanded="true"> Centros de Costo </a>
                                            </li>
                                            <li class="">
                                                <a href="#tabSolicitantesCliente" data-toggle="tab" aria-expanded="true"> Solicitante </a>
                                            </li>
                                            <li class="">
                                                <a href="#tabPasajerosCliente" data-toggle="tab" aria-expanded="true"> Pasajeros </a>
                                            </li>
                                            <li class="">
                                                <a href="#tabDatosObservacionesCliente" data-toggle="tab" aria-expanded="false"> Observaciones </a>
                                            </li>
                                        </ul>
                                        <div class="tab-content">
                                            <div class="tab-pane active" id="tabCCCliente">
                                                <form role="form" id="form-datos-cliente-cc" class="form-datos-cliente-cc">{% csrf_token %}
                                                    <div class="form-body">
                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <!-- BEGIN EXAMPLE TABLE PORTLET-->
                                                                <div class="portlet light ">
                                                                    <div class="portlet-title">
                                                                        <div class="caption font-blue">
                                                                            <i class="icon-flag font-blue mg-t-8"></i>
                                                                            <span class="caption-subject bold uppercase">Centros de Costo</span>
                                                                            <a href="#" onclick="javascript:nuevoCCProspect();" data-toggle="modal" role="button" class="btn green btn-outline mg-l-20">Agregar centro de costo</a>
                                                                        </div>
                                                                        <div class="tools"> </div>
                                                                    </div>
                                                                    <div class="portlet-body">
                                                                        <div id="grillaCentroCostos" >
                                                                        <table class="table table-striped table-bordered table-hover dt-responsive" width="100%" id="tablaCentroCostos">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th class="all">Editar</th>
                                                                                    <!--th class="all">Eliminar</th-->
                                                                                    <th class="all">ID</th>
                                                                                    <th class="all">Código CC</th>
                                                                                    <th class="all">Descripción</th>
                                                                                    <th class="all">Tarifario</th>
                                                                                    <th class="all">Desde</th>
                                                                                    <th class="all">Hasta</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                {% for cc in cliente.getCentroCostos %}
                                                                                <tr>
                                                                                    <td class="text-center"><a href="#" onclick="editarCCPropect('{{ cc.id }}','{{ cliente.id }}','{{ cc.nombre }}','{{ cc.descripcion }}','{{ cc.getFechaInicio }}','{{ cc.getFechaFin }}','{{ cc.tarifario.id }}');"><i class="fa fa-pencil"></i></a></td>
                                                                                    <!--td class="text-center"><a href="#" onclick="eliminarCCPropect('{{ cc.id }}','{{ cliente.id }}');"><i class="fa fa-minus-circle"></i></a></td -->
                                                                                    <td>{{ cc.id }}</td>
                                                                                    <td>{{ cc.nombre }}</td>
                                                                                    <td>{{ cc.descripcion }}</td>
                                                                                    <td>{{ cc.tarifario.nombre }}</td>
                                                                                    <td>{{ cc.getFechaInicio }}</td>
                                                                                    <td>{{ cc.getFechaFin }}</td>   
                                                                                </tr>
                                                                                {% endfor %}
                                                                            </tbody>
                                                                        </table>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="col-md-12">
                                                                            <input type="hidden" id="idClienteCC" name="idClienteCC" value="0">
                                                                            <input type="hidden" id="idClienteEnCC" name="idClienteEnCC" value="{{ cliente.id }}">
                                                                            <div id="add_cc_cliente" class="modal fade" tabindex="-1" aria-hidden="true">
                                                                                <div class="modal-dialog">
                                                                                    <div class="modal-content">
                                                                                        <div class="modal-header">
                                                                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                                                                                            <h4 class="modal-title" style="color:#888;">Agregar Centro de Costo</h4>
                                                                                        </div>
                                                                                        <div class="modal-body">
                                                                                            <div class="scroller" style="height:150px" data-always-visible="1" data-rail-visible1="1">
                                                                                                <div class="row">
                                                                                                    <div class="col-sm-4">
                                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                            <input type="text" onkeypress="return soloLetras(event);" class="form-control" id="codigoCCCliente" name="codigoCCCliente">
                                                                                                            <label for="codigoCCCliente">Código Centro de Costo</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="col-sm-4">
                                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                            <input type="email" class="form-control" id="descripcionCCCliente" name="descripcionCCCliente">
                                                                                                            <label for="descripcionCCCliente">Descripción</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="col-sm-4">
                                                                                                        <div class="form-group form-md-line-input">
                                                                                                            <select class="form-control" id="selectTarifariosCCCliente" name="selectTarifariosCCCliente" >
                                                                                                                {% for t in tarifarios %}
                                                                                                                    <option value="{{ t.id }}">{{ t.nombre }}</option>
                                                                                                                {% endfor %}
                                                                                                            </select>
                                                                                                            <label for="selectTarifariosCCCliente">Tarifarios</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="row mg-t-20">
                                                                                                    <div class="col-sm-6">
                                                                                                        <label for="desdeCC font-12">Válido Desde</label>
                                                                                                        <input class="form-control form-control-inline input-medium date-picker" id="desdeCC" name="desdeCC" size="16" type="text" value="" autocomplete="off" />
                                                                                                    </div>
                                                                                                    <div class="col-sm-6">
                                                                                                        <label for="hastaCC font-12">Válido Hasta</label>
                                                                                                        <input class="form-control form-control-inline input-medium date-picker" id="hastaCC" name="hastaCC" size="16" type="text" value="" autocomplete="off" />
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="modal-footer noborder flex">
                                                                                          <button type="button" onclick="guardarCentroCosto();" class="btn green">Guardar</button>
                                                                                          <button type="button" class="btn red" data-dismiss="modal">Cancelar</button>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <!-- END EXAMPLE TABLE PORTLET-->
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-actions noborder flex">
                                                        <button type="button" class="btn green btn-outline mg-r-10">Guardar</button>
                                                        <button type="button" class="btn btn-outline red">Cancelar</button>
                                                    </div>
                                                </form>
                                            </div>
                                            <div class="tab-pane" id="tabSolicitantesCliente">
                                                <form role="form" id="form-datos-cliente-solicitante" class="form-datos-cliente-solicitante">
                                                    <div class="form-body">
                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <!-- BEGIN EXAMPLE TABLE PORTLET-->
                                                                <div class="portlet light ">
                                                                    <div class="portlet-title">
                                                                        <div class="caption font-blue">
                                                                            <i class="icon-user font-blue mg-t-8"></i>
                                                                            <span class="caption-subject bold uppercase">Solicitante</span>
                                                                            <a href="#" onclick="javascript:nuevoSolicitanteProspect();" role="button" data-toggle="modal" class="btn green btn-outline mg-l-20">Agregar solicitante</a>
                                                                        </div>
                                                                        <div class="tools"> </div>
                                                                    </div>
                                                                    <div class="portlet-body">
                                                                        <div id="grillaSolicitante" >
                                                                        <table class="table table-striped table-bordered table-hover dt-responsive" width="100%" id="tablaSolicitanteClientes">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th class="all">Editar</th>
                                                                                    <th class="all">Editar</th>
                                                                                    <th class="all">Nombre</th>
                                                                                    <th class="all">Apellido</th>
                                                                                    <th class="all">Puesto</th>
                                                                                    <th class="all">Teléfono</th>
                                                                                    <th class="all">Mail</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                {% for c in cliente.getContactos %}
                                                                                <tr>
                                                                                    <td class="text-center">
                                                                                        <a href="#" onclick="editarSolicitante('{{ c.id }}','{{ cliente.id }}','{{ c.nombre }}','{{ c.apellido }}','{{ c.puesto|default_if_none:"" }}','{{ c.mail|default_if_none:"" }}','{{ c.getTelefono }}');" class="btn btn-xs btn-outline blue"><i class="fa fa-pencil"></i></a>
                                                                                    </td>
                                                                                    <td class="text-center">
                                                                                        <a href="#" onclick="borrarSolicitante('{{ c.id }}','{{ cliente.id }}');" class="btn btn-xs btn-outline blue"><i class="fa fa-times"></i></a>
                                                                                    </td>
                                                                                    <td>{{ c.nombre|default_if_none:"" }}</td>
                                                                                    <td>{{ c.apellido|default_if_none:"" }}</td>
                                                                                    <td>{{ c.puesto|default_if_none:"" }}</td>
                                                                                    <td>{{ c.getTelefono }}</td>
                                                                                    <td>{{ c.mail|default_if_none:"" }}</td>
                                                                                </tr>
                                                                                {% endfor %}
                                                                            </tbody>
                                                                        </table>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="col-md-12">
                                                                            <input type="hidden" id="idClienteEnCC" name="idClienteEnSol" value="{{ cliente.id }}">
                                                                            <input type="hidden" id="idSolicitante" name="idSolicitante" value="0">
                                                                            <div id="add_solicitante_cliente" class="modal fade" tabindex="-1" aria-hidden="true">
                                                                                <div class="modal-dialog">
                                                                                    <div class="modal-content">
                                                                                        <div class="modal-header">
                                                                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                                                                                            <h4 class="modal-title" style="color:#888;">Agregar Solicitante</h4>
                                                                                        </div>
                                                                                        <div class="modal-body">
                                                                                            <div class="scroller" style="height:120px" data-always-visible="1" data-rail-visible1="1">
                                                                                                <div class="row">
                                                                                                    <div class="col-sm-4">
                                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                            <input type="text" class="form-control" id="nombrePasajeroCliente" name="nombrePasajeroCliente">
                                                                                                            <label for="nombrePasajeroCliente">Nombre</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="col-sm-4">
                                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                            <input type="text" class="form-control" id="apellidoPasajeroCliente" name="apellidoPasajeroCliente">
                                                                                                            <label for="apellidoPasajeroCliente">Apellido</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="row">
                                                                                                    <div class="col-sm-4">
                                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                            <input type="text" class="form-control" id="puestoSol" name="puestoSol">
                                                                                                            <label for="puesto">Puesto</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="col-sm-4">
                                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                            <input type="email" class="form-control" id="mailSol" name="mailSol" >
                                                                                                            <label for="mailSol">Mail</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="col-sm-4">
                                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                            <input type="text" class="form-control" id="telefonoSol" name="telefonoSol">
                                                                                                            <label for="telefonoSol">Teléfono</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="modal-footer noborder flex">
                                                                                          <button type="button" onclick="javascript:guardarSolicitante();" class="btn green">Guardar</button>
                                                                                          <button type="button" class="btn red" data-dismiss="modal">Cancelar</button>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <!-- END EXAMPLE TABLE PORTLET-->
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-actions noborder flex">
                                                        <button type="button" class="btn green btn-outline mg-r-10">Guardar</button>
                                                        <button type="button" class="btn btn-outline red">Cancelar</button>
                                                    </div>
                                                </form>
                                            </div>
                                            <div class="tab-pane" id="tabPasajerosCliente">
                                                <form role="form" class="form-datos-cliente-pasajeros" id="form-datos-cliente-pasajeros">
                                                    <div class="form-body">
                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <!-- BEGIN EXAMPLE TABLE PORTLET-->
                                                                <div class="portlet light ">
                                                                    <div class="portlet-title">
                                                                        <div class="caption font-blue">
                                                                            <i class="icon-user font-blue mg-t-8"></i>
                                                                            <span class="caption-subject bold uppercase">Pasajeros</span>
                                                                            <a href="#add_pasajero_cliente" role="button" data-toggle="modal" class="btn green btn-outline mg-l-20">Agregar pasajero</a>
                                                                        </div>
                                                                        <div class="tools"> </div>
                                                                    </div>
                                                                    <div class="portlet-body">
                                                                        <div id="grillaPasajero" >
                                                                        <table class="table table-striped table-bordered table-hover dt-responsive" width="100%" id="tablaPasajeroClientes">
                                                                            <thead>
                                                                                <tr>
                                                                                    <th class="all">Editar</th>
                                                                                    <th class="all">Borrar</th>
                                                                                    <th class="all">Nombre</th>
                                                                                    <th class="all">Apellido</th>
                                                                                    <th class="all">DNI</th>
                                                                                    <th class="all">Nacionalidad</th>
                                                                                    <th class="all">Domicilio</th>
                                                                                    <th class="all">Teléfono</th>
                                                                                    <th class="all">Comentario</th>
                                                                                </tr>
                                                                            </thead>
                                                                            <tbody>
                                                                                {% for p in cliente.getPasajeros %}
                                                                                <tr>
                                                                                    <td class="text-center">
                                                                                        <a href="#" onclick="editarPasajero('{{ p.id }}','{{ cliente.id }}','{{ p.nombre }}','{{ p.apellido }}','{{ p.documento|default_if_none:"" }}','{{ p.mail|default_if_none:"" }}','{{ p.getTelefono }}','{{ p.nacionalidad }}','{{ p.calle }}','{{ p.altura }}','{{ p.piso }}','{{ p.cp }}');" class="btn btn-xs btn-outline blue"><i class="fa fa-pencil"></i></a>
                                                                                    </td>
                                                                                    <td class="text-center">
                                                                                        <a href="#" onclick="borrarPasajero('{{ p.id }}','{{ cliente.id }}');" class="btn btn-xs btn-outline blue"><i class="fa fa-times"></i></a>
                                                                                    </td>
                                                                                    <td>{{ p.nombre|default_if_none:"" }}</td>
                                                                                    <td>{{ p.apellido|default_if_none:"" }}</td>
                                                                                    <td>{{ p.documento|default_if_none:"" }}</td>
                                                                                    <td>{{ p.nacionalidad|default_if_none:"" }}</td>
                                                                                    <td>{{ p.getDomicilio }}</td>
                                                                                    <td>{{ p.getTelefono }}</td>
                                                                                    <td>{{ p.getObservacion }}</td>
                                                                                </tr>
                                                                                {% endfor %}
                                                                            </tbody>
                                                                        </table>
                                                                        </div>
                                                                    </div>
                                                                    <div class="row">
                                                                        <div class="col-md-12">
                                                                            <input type="hidden" id="idClientePasajero" name="idClientePasajero" value="{{ cliente.id }}">
                                                                            <input type="hidden" id="idPasajero" name="idPasajero" value="0">
                                                                            <div id="add_pasajero_cliente" class="modal fade" tabindex="-1" aria-hidden="true">
                                                                                <div class="modal-dialog">
                                                                                    <div class="modal-content">
                                                                                        <div class="modal-header">
                                                                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                                                                                            <h4 class="modal-title" style="color:#888;">Agregar Pasajero</h4>
                                                                                        </div>
                                                                                        <div class="modal-body">
                                                                                            <div class="scroller" style="height:220px" data-always-visible="1" data-rail-visible1="1">
                                                                                                <div class="row">
                                                                                                    <div class="col-sm-4">
                                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                            <input type="text" class="form-control" id="nombrePasCliente" name="nombrePasCliente">
                                                                                                            <label for="nombrePasCliente">Nombre</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="col-sm-4">
                                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                            <input type="text" class="form-control" id="apellidoPasCliente" name="apellidoPasCliente">
                                                                                                            <label for="apellidoPasCliente">Apellido</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="col-sm-4">
                                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                            <input type="text" class="form-control" id="documentoPasajeroCliente" name="documentoPasajeroCliente">
                                                                                                            <label for="documentoPasajeroCliente">DNI</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="row">
                                                                                                    <div class="col-sm-4">
                                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                            <input type="text" class="form-control" id="telefonoPasajeroCliente" name="telefonoPasajeroCliente">
                                                                                                            <label for="telefonoPasajeroCliente">Teléfono</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="col-sm-4">
                                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                            <input type="email" class="form-control" id="mailPasajeroCliente" name="mailPasajeroCliente">
                                                                                                            <label for="mailPasajeroCliente">Mail</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="col-sm-4">
                                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                            <input type="text" class="form-control" id="nacionalidadPasajeroCliente" name="nacionalidadPasajeroCliente" >
                                                                                                            <label for="nacionalidadPasajeroCliente">Nacionalidad</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="row">
                                                                                                    <div class="col-sm-12">
                                                                                                        <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                            <input type="text" class="form-control" id="callePasajeroCliente" name="callePasajeroCliente">
                                                                                                            <label for="callePasajeroCliente">Calle</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="col-sm-2" style="display:none;">
                                                                                                        <div class="form-group form-md-line-input">
                                                                                                            <input type="text" class="form-control" name="alturaPasajeroCliente" id="alturaPasajeroCliente" >
                                                                                                            <label for="alturaPasajeroCliente">Altura</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="col-sm-2" style="display:none;">
                                                                                                        <div class="form-group form-md-line-input">
                                                                                                            <input type="text" class="form-control" name="pisoPasajeroCliente" id="pisoPasajeroCliente" >
                                                                                                            <label for="pisoPasajeroCliente">Piso</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="col-sm-2" style="display:none;" >
                                                                                                        <div class="form-group form-md-line-input">
                                                                                                            <input type="text" class="form-control" name="cpPasajeroCliente" id="cpPasajeroCliente" >
                                                                                                            <label for="cpPasajeroCliente">CP</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="row">
                                                                                                    <div class="col-sm-12">
                                                                                                        <div class="form-group form-md-line-input">
                                                                                                            <textarea class="form-control" rows="1" name="comentarioPasajeroCliente" id="comentarioPasajeroCliente" placeholder=""></textarea>
                                                                                                            <label for="comentarioPasajeroCliente">Comentario</label>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>

                                                                                            </div>
                                                                                        </div>
                                                                                        <div class="modal-footer noborder flex">
                                                                                          <button type="button" onclick="guardarPasajero()" class="btn green">Guardar</button>
                                                                                          <button type="button" class="btn red" data-dismiss="modal">Cancelar</button>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <!-- END EXAMPLE TABLE PORTLET-->
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-actions noborder flex">
                                                        <button type="button" class="btn green btn-outline mg-r-10">Guardar</button>
                                                        <button type="button" class="btn btn-outline red">Cancelar</button>
                                                    </div>
                                                </form>
                                            </div>
                                            <!-- <div class="tab-pane" id="tabDatosMailsCliente">
                                                <form role="form" id="form-datos-cliente-mails" class="form-datos-cliente-mails">{% csrf_token %}
                                                    <div class="form-body">
                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <div class="portlet light ">
                                                                    <div class="portlet-title">
                                                                        <div class="caption font-blue">
                                                                            <i class="icon-notebook font-blue mg-t-8"></i>
                                                                            <span class="caption-subject bold uppercase">Mails</span>
                                                                            <a href="#add_mail_cliente" role="button" data-toggle="modal" class="btn green btn-outline mg-l-20">Agregar mail</a>
                                                                        </div>
                                                                        <div class="tools"> </div>
                                                                    </div>
                                                                    <div class="portlet-body">
                                                                        <div id="grillaMail" >
                                                                            <table class="table table-striped table-bordered table-hover dt-responsive" width="100%" id="tablaMailClientes">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th class="all">Nombre</th>
                                                                                        <th class="all">Comentario</th>
                                                                                        <th class="all">Mail</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                    {% for m in cliente.getMails %}
                                                                                    <tr>
                                                                                        <td>{{ m.nombre }}</td>
                                                                                        <td>{{ m.comentario }}</td>
                                                                                        <td>{{ m.mail }}</td>
                                                                                    </tr>
                                                                                    {% endfor %}
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="row">
                                                                            <div class="col-md-12">
                                                                                <input type="hidden" id="idClienteMail" name="idClienteMail" value="{{ cliente.id }}">
                                                                                <div id="add_mail_cliente" class="modal fade" tabindex="-1" aria-hidden="true">
                                                                                    <div class="modal-dialog">
                                                                                        <div class="modal-content">
                                                                                            <div class="modal-header">
                                                                                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                                                                                                <h4 class="modal-title" style="color:#888;">Agregar Mail</h4>
                                                                                            </div>
                                                                                            <div class="modal-body">
                                                                                                <div class="scroller" style="height:200px" data-always-visible="1" data-rail-visible1="1">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-6">
                                                                                                            <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                                <input type="text" class="form-control" id="nombreMailCliente" name="nombreMailCliente">
                                                                                                                <label for="mailCliente">Nombre</label>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                        <div class="col-sm-6">
                                                                                                            <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                                <input type="email" class="form-control" id="mailCliente" name="mailCliente">
                                                                                                                <label for="mailCliente">Mail</label>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-12">
                                                                                                            <div class="form-group form-md-line-input form-md-floating-label">
                                                                                                                <input type="text" class="form-control" id="comentarioMailCliente" name="comentarioMailCliente">
                                                                                                                <label for="comentarioMailCliente">Comentario</label>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="modal-footer noborder flex">
                                                                                              <button type="button" onclick="agregarMail()" class="btn green">Guardar</button>
                                                                                              <button type="button" class="btn red" data-dismiss="modal">Cancelar</button>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-actions noborder flex">
                                                        <button type="button" class="btn green btn-outline mg-r-10">Guardar</button>
                                                        <button type="button" class="btn btn-outline red">Cancelar</button>
                                                    </div>
                                                </form>
                                            </div> -->
                                            <div class="tab-pane" id="tabDatosObservacionesCliente">
                                                <form role="form" id="form-datos-cliente-observacion" class="form-datos-cliente-observacion">{% csrf_token %}
                                                    <div class="form-body">
                                                        <div class="row">
                                                            <div class="col-sm-12">
                                                                <!-- BEGIN EXAMPLE TABLE PORTLET-->
                                                                <div class="portlet light ">
                                                                    <div class="portlet-title">
                                                                        <div class="caption font-blue">
                                                                            <i class="icon-notebook font-blue mg-t-8"></i>
                                                                            <span class="caption-subject bold uppercase">Observaciones</span>
                                                                            <a href="#add_observacion_cliente" role="button" data-toggle="modal" class="btn green btn-outline mg-l-20">Agregar observación</a>
                                                                        </div>
                                                                        <div class="tools"> </div>
                                                                    </div>
                                                                    <div class="portlet-body">
                                                                        <div id="grillaObservaciones" >
                                                                            <table class="table table-striped table-bordered table-hover dt-responsive" width="100%" id="tablaObservacionClientes">
                                                                                <thead>
                                                                                    <tr>
                                                                                        <th class="all">Fecha</th>
                                                                                        <th class="all">Usuario</th>
                                                                                        <th class="all">Observación</th>
                                                                                    </tr>
                                                                                </thead>
                                                                                <tbody>
                                                                                    {% for o in cliente.getObservaciones %}
                                                                                    <tr>
                                                                                        <td>{{ o.getFechaHora }}</td>
                                                                                        <td>{{ o.usuario }}</td>
                                                                                        <td>{{ o.texto }}</td>
                                                                                    </tr>
                                                                                    {% endfor %}
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                        <div class="row">
                                                                            <div class="col-md-12">
                                                                                <input type="hidden" id="idClienteObser" name="idClienteObser" value="{{ cliente.id }}">
                                                                                <div id="add_observacion_cliente" class="modal fade" tabindex="-1" aria-hidden="true">
                                                                                    <div class="modal-dialog">
                                                                                        <div class="modal-content">
                                                                                            <div class="modal-header">
                                                                                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true"></button>
                                                                                                <h4 class="modal-title" style="color:#888;">Agregar Observación</h4>
                                                                                            </div>
                                                                                            <div class="modal-body">
                                                                                                <div class="scroller" style="height:100px" data-always-visible="1" data-rail-visible1="1">
                                                                                                    <div class="row">
                                                                                                        <div class="col-sm-6 col-sm-offset-3">
                                                                                                            <div class="form-group form-md-line-input">
                                                                                                                <textarea class="form-control" rows="3" name="textAreaObservacion" id="textAreaObservacion" placeholder=""></textarea>
                                                                                                                <label for="textAreaObservacion">Observaciones del cliente</label>
                                                                                                            </div>
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div class="modal-footer noborder flex">
                                                                                              <button type="button" onclick="agregarObservacion()" class="btn green">Guardar</button>
                                                                                              <button type="button" class="btn red" data-dismiss="modal">Cancelar</button>
                                                                                            </div>
                                                                                        </div>
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <!-- END EXAMPLE TABLE PORTLET-->
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-actions noborder flex">
                                                        <button type="button" class="btn green btn-outline mg-r-10">Guardar</button>
                                                        <button type="button" class="btn btn-outline red">Cancelar</button>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- END EXAMPLE TABLE PORTLET-->
                        </div>
                    </div>

                </div>
                <!-- END CONTENT BODY -->
            </div>
            <!-- END CONTENT -->
            <!-- BEGIN QUICK SIDEBAR -->
            <!-- END QUICK SIDEBAR -->
        </div>
        <!-- END CONTAINER -->
        {% include "sistema/footer.html" %}

            <!-- SCRIPTS PROPIOS DE ESTA VISTA -->
            <script>
                $(document).ready(function(){

                    $('#tablaSolicitanteClientes').DataTable( {
                        responsive: true,
                        // scrollY: 200,
                        order: [[ 1, "asc" ]],
                        lengthMenu: [
                                        [ 100, 50, 25, 10, -1 ],
                                        [ '100', '50', '25', '10', 'Todos' ]
                                    ],
                        language: {
                            url: '//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json'
                        },
                    } );

                    $('#tablaPasajeroClientes').DataTable( {
                        responsive: true,
                        // scrollY: 200,
                        order: [[ 1, "asc" ]],
                        lengthMenu: [
                                        [ 100, 50, 25, 10, -1 ],
                                        [ '100', '50', '25', '10', 'Todos' ]
                                    ],
                        language: {
                            url: '//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json'
                        },
                    } );

                    $('#tablaClientes').DataTable( {
                        responsive: true,
                        // scrollY: 200,
                        order: [[ 0, "asc" ]],
                        lengthMenu: [
                                        [ 100, 50, 25, 10, -1 ],
                                        [ '100', '50', '25', '10', 'Todos' ]
                                    ],
                        language: {
                            url: '//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json'
                        },
                    } );

                    $('#tablaMailClientes').DataTable( {
                        responsive: true,
                        // scrollY: 200,
                        order: [[ 0, "asc" ]],
                        lengthMenu: [
                                        [ 100, 50, 25, 10, -1 ],
                                        [ '100', '50', '25', '10', 'Todos' ]
                                    ],
                        language: {
                            url: '//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json'
                        },
                    } );

                    $('#tablaObservacionClientes').DataTable( {
                        responsive: true,
                        // scrollY: 200,
                        order: [[ 0, "asc" ]],
                        lengthMenu: [
                                        [ 100, 50, 25, 10, -1 ],
                                        [ '100', '50', '25', '10', 'Todos' ]
                                    ],
                        language: {
                            url: '//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json'
                        },
                    } );

                    $('#tablaListadoFacturasCliente').DataTable( {
                        responsive: true,
                        // scrollY: 200,
                        order: [[ 1, "asc" ]],
                        lengthMenu: [
                                        [ 100, 50, 25, 10, -1 ],
                                        [ '100', '50', '25', '10', 'Todos' ]
                                    ],
                        language: {
                            url: '//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json'
                        },
                    } );

                    $('#desdeCC').datepicker({
                        language: 'es',
                        dateFormat: 'dd/mm/yy',
                        // todayBtn: true,
                        todayHighlight: true,
                        autoclose: true
                    });

                    $('#hastaCC').datepicker({
                        language: 'es',
                        dateFormat: 'dd/mm/yy',
                        // todayBtn: true,
                        todayHighlight: true,
                        autoclose: true
                    });

                    var idCliente = $("#idCliente").val()
                    if (idCliente == "0"){
                        $("#clienteDetalle").hide()
                    }else{
                        $("#clienteDetalle").show()
                    }

                    $("#mensajeValidacion").html("");
                    $("#clienteValidacion").hide();
                });

                function guardarCliente(){

                    if ($("#razonSocial").val() == ""){
                        $("#mensajeValidacion").html("El campo Razón Social es obligatorio.");
                        $("#clienteValidacion").show()
                        return false;
                    }
                    if ($("#cuil").val() == ""){
                        $("#mensajeValidacion").html("El campo CUIL/CUIT es obligatorio.");
                        $("#clienteValidacion").show()
                        return false;
                    }
                    if ($("#calle").val() == ""){
                        $("#mensajeValidacion").html("El campo Calle es obligatorio.");
                        $("#clienteValidacion").show()
                        return false;
                    }
                    if ($("#altura").val() == ""){
                        $("#mensajeValidacion").html("El campo Altura es obligatorio.");
                        $("#clienteValidacion").show()
                        return false;
                    }
                    if ($("#telefono").val() == ""){
                        $("#mensajeValidacion").html("El campo Telefono es obligatorio.");
                        $("#clienteValidacion").show()
                        return false;
                    }
                    if ($("#tarifarios").val() == ""){
                        $("#mensajeValidacion").html("El Tarifario es obligatorio.");
                        $("#clienteValidacion").show()
                        return false;
                    }
                    if ($("#altura").val() == ""){
                        $("#mensajeValidacion").html("La altura es obligatoria.");
                        $("#clienteValidacion").show()
                        return false;
                    }

                    $("#formGuardarCliente").submit();
                    
                }

                function agregarObservacion(){
                    if ($('#textAreaObservacion').val() == ""){
                        alert("Campo observacion es obligatorio");
                    }else{
                        var url = "/sistema/guardarObservacionCliente/";
                        $.ajax({
                            type: "POST",
                            url: url,
                            data: $("#form-datos-cliente-observacion").serialize(),
                            success: function(data){
                                $("#grillaObservaciones").html(data);
                            }
                        });
                        $('#add_observacion_cliente').modal('toggle');
                    }
                }

                function agregarMail(){
                    if ($('#mailCliente').val() == ""){
                        alert("Campo mail es obligatorio");
                    }else{
                        var url = "/sistema/guardarMailCliente/";
                        $.ajax({
                            type: "POST",
                            url: url,
                            data: $("#form-datos-cliente-mails").serialize(),
                            success: function(data){
                                $("#grillaMail").html(data);
                            }
                        });
                        $('#add_mail_cliente').modal('toggle');
                    }
                }

                function cargarLocalidad(){
                    var url = "/sistema/cargarLocalidad/";
                    param = 'codigoPostal='+$("#cp").val();
                    $.ajax({
                        type: "POST",
                        url: url,
                        headers: {'X-CSRFToken': '{{ csrf_token }}'},
                        data: param,
                        success: function(data){
                            $("#selectLocalidad").html(data);
                            cargarProvincia()
                        }
                    });
                }

                function cargarProvincia(){
                    var url = "/sistema/cargarProvincia/";
                    param = 'idLocalidad='+$("#localidad").val();
                    $.ajax({
                        type: "POST",
                        url: url,
                        headers: {'X-CSRFToken': '{{ csrf_token }}'},
                        data: param,
                        success: function(data){
                            $("#selectProvincia").html(data);
                        }
                    });
                    
                }

                function nuevoCCProspect(){
                    $('#idClienteCC').val("0");
                    $('#codigoCCCliente').val("");
                    $('#descripcionCCCliente').val("");
                    $('#selectTarifariosCCCliente').val("");
                    $('#desdeCC').val("");
                    $('#hastaCC').val("");
                    $('#add_cc_cliente').modal('toggle');
                }


                function nuevoSolicitanteProspect(){
                    $('#idSolicitante').val("0");
                    $('#nombrePasajeroCliente').val("");
                    $('#apellidoPasajeroCliente').val("");
                    $('#puestoSol').val("");
                    $('#mailSol').val("");
                    $('#telefonoSol').val("");
                    $('#add_solicitante_cliente').modal('toggle');
                }
                
                function editarCCPropect(ccid,clienteid,nombre,descripcion,fechaInicio,fechaFin,tarifa){
                    $('#idClienteCC').val(ccid);
                    $('#codigoCCCliente').val(nombre);
                    $('#descripcionCCCliente').val(descripcion);
                    $('#selectTarifariosCCCliente').val(tarifa);
                    $('#desdeCC').val(fechaInicio);
                    $('#hastaCC').val(fechaFin);
                    $('#add_cc_cliente').modal('toggle');
                }


               function editarSolicitante(ccid,clienteid,nombre,apellido,puesto,mail,telefono){
                    $('#idSolicitante').val(ccid);
                    $('#nombrePasajeroCliente').val(nombre);
                    $('#apellidoPasajeroCliente').val(apellido);
                    $('#puestoSol').val(puesto);
                    $('#mailSol').val(mail);
                    $('#telefonoSol').val(telefono);
                    $('#add_solicitante_cliente').modal('toggle');
                }

                function editarPasajero(pasId,clienteid,nombre,apellido,documento,mail,telefono,nacionalidad,calle,altura,piso,cp,comentario){
                    $('#idPasajero').val(pasId)
                    $('#nombrePasCliente').val(nombre)
                    $('#apellidoPasCliente').val(apellido)
                    $('#documentoPasajeroCliente').val(documento)
                    $('#telefonoPasajeroCliente').val(telefono)
                    $('#mailPasajeroCliente').val(mail)
                    $('#nacionalidadPasajeroCliente').val(nacionalidad)
                    $('#callePasajeroCliente').val(calle)
                    $('#alturaPasajeroCliente').val(altura)
                    $('#pisoPasajeroCliente').val(piso)
                    $('#cpPasajeroCliente').val(cp)
                    $('#comentarioPasajeroCliente').val(comentario)
                    $('#add_pasajero_cliente').modal('toggle');
                }

                function borrarSolicitante(ccid, idCliente){
                    var r = confirm("Desea borrar el solicitante?");
                    if (r == true) {
                        var url = "/sistema/borrarSolicitanteCliente/";
                        var params = "idPersona="+ccid+"&idCliente="+idCliente;
                        $.ajax({
                            type: "POST",
                            url: url,
                            headers: {'X-CSRFToken': '{{ csrf_token }}'},
                            data: params,
                            success: function(data){
                                $('#grillaSolicitante').html(data);
                            }
                        });
                    }
                }

                function borrarPasajero(ccid, idCliente){
                    var r = confirm("Desea borrar el pasajero?");
                    if (r == true) {
                        var url = "/sistema/borrarPasajeroCliente/";
                        var params = "idPersona="+ccid+"&idCliente="+idCliente;
                        $.ajax({
                            type: "POST",
                            url: url,
                            headers: {'X-CSRFToken': '{{ csrf_token }}'},
                            data: params,
                            success: function(data){
                                $('#grillaPasajero').html(data);
                            }
                        });
                    }
                }

                function guardarCentroCosto(){
                    if ($('#codigoCCCliente').val() == ""){
                        alert("El Codigo es obligatorio.")
                        return false;
                    }
                    if ($('#desdeCC').val() == ""){
                        alert("La fecha desde es obligatoria.")
                        return false;
                    }

                    if ($("#idClienteCC").val() == "0"){
                        var url = "/sistema/validarCodigoCentroCosto/?codigoCC="+$("#codigoCCCliente").val();
                        $.ajax({
                            type: "GET",
                            url: url,
                            success: function(data){
                                if (data.mensaje == ""){
                                    guardarCCmetodo()
                                }else{
                                    alert(data.mensaje);
                                }
                                
                            }
                        });
                    }else{
                        guardarCCmetodo()
                    }

                }

                function guardarCCmetodo(){
                    var url = "/sistema/guardarCentroCostoProspect/";
                    $.ajax({
                        type: "POST",
                        url: url,
                        headers: {'X-CSRFToken': '{{ csrf_token }}'},
                        data: $("#form-datos-cliente-cc").serialize(),
                        success: function(data){
                            $('#idClienteCC').val("0");
                            $('#codigoCCCliente').val("");
                            $('#descripcionCCCliente').val("");
                            $('#selectTarifariosCCCliente').val("");
                            $('#desdeCC').val("");
                            $('#hastaCC').val("");
                            $("#grillaCentroCostos").html(data);
                            $('#add_cc_cliente').modal('toggle');
                        }
                    });
                }

                function guardarSolicitante(){
                    if ($('#nombrePasajeroCliente').val() == ""){
                        alert("El Nombre es obligatorio.")
                        return false;
                    }
                    if ($('#apellidoPasajeroCliente').val() == ""){
                        alert("El Apellido es obligatorio.")
                        return false;
                    }
                    var url = "/sistema/guardarSolicitanteProspect/";
                    $.ajax({
                        type: "POST",
                        url: url,
                        headers: {'X-CSRFToken': '{{ csrf_token }}'},
                        data: $("#form-datos-cliente-solicitante").serialize(),
                        success: function(data){
                            $('#idSolicitante').val("0");
                            $('#nombrePasajeroCliente').val("");
                            $('#apellidoPasajeroCliente').val("");
                            $('#puestoSol').val("");
                            $('#mailSol').val("");
                            $('#telefonoSol').val("");
                            $('#grillaSolicitante').html(data);
                            $('#add_solicitante_cliente').modal('toggle');
                        }
                    });
                }
                
                function guardarPasajero(){
                    if ($('#nombrePasCliente').val() == ""){
                        alert("El Nombre es obligatorio.")
                        return false;
                    }
                    if ($('#apellidoPasCliente').val() == ""){
                        alert("El Apellido es obligatorio.")
                        return false;
                    }
                    var url = "/sistema/guardarPasajeroProspect/";
                    $.ajax({
                        type: "POST",
                        url: url,
                        headers: {'X-CSRFToken': '{{ csrf_token }}'},
                        data: $("#form-datos-cliente-pasajeros").serialize(),
                        success: function(data){
                            $('#idPasajero').val("0")
                            $('#nombrePasCliente').val("")
                            $('#apellidoPasCliente').val("")
                            $('#documentoPasajeroCliente').val("")
                            $('#telefonoPasajeroCliente').val("")
                            $('#mailPasajeroCliente').val("")
                            $('#nacionalidadPasajeroCliente').val("")
                            $('#callePasajeroCliente').val("")
                            $('#alturaPasajeroCliente').val("")
                            $('#pisoPasajeroCliente').val("")
                            $('#cpPasajeroCliente').val("")
                            $('#comentarioPasajeroCliente').val("")
                            $('#add_pasajero_cliente').modal('toggle');
                            $('#grillaPasajero').html(data);
                        }
                    });
                }

                function soloLetras(e) {
                    key = e.keyCode || e.which;
                    tecla = String.fromCharCode(key).toString();
                    letras = "áéíóúabcdefghijklmnñopqrstuvwxyzÁÉÍÓÚABCDEFGHIJKLMNÑOPQRSTUVWXYZ0123456789";//Se define todo el abecedario que se quiere que se muestre.
                    especiales = [8, 39, 6]; //Es la validación del KeyCodes, que teclas recibe el campo de texto.
                    tecla_especial = false
                    for(var i in especiales) {
                        if(key == especiales[i]) {
                            tecla_especial = true;
                            break;
                        }
                    }

                    if(letras.indexOf(tecla) == -1 && !tecla_especial){
                        return false;
                    }
                }

            </script>

        </div>
    </body>

</html>