<div class="table-responsive pd-t-5">
    <table class="table table-striped table-bordered table-hover dt-responsive" width="100%" id="futurosViajes">
        <thead>
            <tr>
                <th class="all">NÂ° Res</th>
                <th class="all">Categ.</th>
                <th class="all">Fecha</th>
                <th class="all">Hora</th>
                <th class="all">H.E</th>
                <th class="all">Estado</th>
                <th class="all">Unidad</th>
                <th class="all">Nombre Unidad</th>
                <th class="all">Origen</th>
                <th class="all">Destino</th>
                <th class="all">Pasajero</th>
                <th class="all">Solicitante</th>
                <th class="all">Centro de Costo</th>
            </tr>
        </thead>
        <tbody>
        {% for v in viajes %}
            <tr>
                <td class="all text-center"><a href="/sistema/editaViaje/?idViaje={{ v.id }}">{{v.id}}</a></td>
                <td class="all">{{ v.categoria_viaje }}</td>
                <td class="all">{{ v.fecha }}</td>
                <td class="all">{{ v.hora }}</td>
                <td class="all">{{ v.hora_estimada }}</td>
                <td class="all"><span class="label label-primary" style="background-color: {{ v.estado.color }}!important;"> {{ v.estado }} </span></td>
                <td class="all">{{ v.unidad.id }}</td>
                <td class="all">{{ v.unidad.identificacion }}</td>
                <td class="all"><span class="label label-sm label-danger">{{ v.getTrayectoPrincipal.desdeConcat }}</span></td>
                <td class="all"><span class="label label-sm label-warning">{{ v.getTrayectoPrincipal.hastaConcat }}</span></td>
                <td class="all">{{ v.pasajero }}</td>
                <td class="all">{{ v.solicitante }}</td>
                <td class="all">{{ v.centro_costo }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>

<script>
    $('#futurosViajes').DataTable( {
        responsive: true,
        // colReorder: true,
        dom: 'lfBrtip',
        buttons: [
            {
                extend: 'copy',
                exportOptions: {
                    columns: ':visible:not(:eq(0))'
                }
            },
            {
                extend: 'excel',
                exportOptions: {
                    columns: ':visible:not(:eq(0))'
                }
            },
            {
                extend: 'pdf',
                exportOptions: {
                    columns: ':visible:not(:eq(0))'
                }
            },
            {
                extend: 'print',
                exportOptions: {
                    columns: ':visible:not(:eq(0))'
                }
            },
        ],
        lengthMenu: [
            [ 100, 50, 25, 10, -1 ],
            [ '100', '50', '25', '10', 'Todos' ]
        ],
        language: {
            url: '//cdn.datatables.net/plug-ins/1.10.15/i18n/Spanish.json',
            buttons: {
                copy: "Copiar",
                print: "Imprimir"
            }
        }
    } );

    var tablefuturosViajes = $('#futurosViajes').DataTable();

    $('#futurosViajes tbody').on( 'click', 'tr', function () {
        if ( $(this).hasClass('selected') ) {
            $(this).removeClass('selected');
        }
        else {
            row_seleccionado = $(this);
            tablefuturosViajes.$('tr.selected').removeClass('selected');
            $(this).addClass('selected');
            viaje_seleccionado = $(this).context.childNodes[1].innerText;
            $('#estado_actual').text($(this).context.childNodes[11].innerText)
        }
    });
</script>