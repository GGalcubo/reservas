<table class="table table-striped table-bordered table-hover dt-responsive" width="100%" id="tablaListadoFactProvedores">
    <thead>
        <tr>
            <th class="all"></th>
            <th class="all">N°</th>
            <th class="all">Fecha</th>
            <th class="all">TS</th>
            <th class="all">Hora</th>
            <th class="all">Pasajero</th>
            <th class="all">Origen</th>
            <th class="all">Destino</th>
            <th class="all">Subtotal</th>
            <th class="all">T. Espera</th>
            <th class="all">Espera</th>
            <th class="all">Bilingue</th>
            <th class="all">Maletas</th>
            <th class="all">Peajes</th>
            <th class="all">Estación</th>
            <th class="all">Otros</th>
            <th class="all">Total</th>
            <th class="all">I.V.A.</th>
            <th class="all">Final</th>
            <th class="all">P. Efect</th>
            <th class="all">Pagar</th>
            <th class="all">Factura</th>
        </tr>
    </thead>
    <tbody>
        {% for v in viajes %}
        <tr id="rowid{{ v.id }}">
            <td></td>
            <td class="text-center"><a href="/sistema/editaViaje/?idViaje={{v.id}}">{{v.id}}</a></td>
            <td>{{v.getFecha}}</td>
            <td>{{v.categoria_viaje}}</td>
            <td>{{v.hora}}</td>
            <td>{{v.pasajero.nombre}} {{v.pasajero.apellido}}</td>
            <td><span class="label label-sm label-info">{{v.getTrayectoPrincipal.desdeConcat}}</span></td>
            <td><span class="label label-sm label-primary">{{v.getTrayectoPrincipal.hastaConcat}}</span></td>
            <td>${{v.getSubtotalProveedor|floatformat:0}}</td>
            <td>{{v.getCantidadTiempoEsperaProveedor}}</td>
            <td>${{v.getMontoTiempoEsperaProveedor|floatformat:0}}</td>
            <td>${{v.getMontoBilingueProveedor|floatformat:0}}</td>
            <td>${{v.getMontoMaletasProveedor|floatformat:0}}</td>
            <td>${{v.getMontoPeajesProveedor|floatformat:0}}</td>
            <td>${{v.getMontoEstacionProveedor|floatformat:0}}</td>
            <td>${{v.getMontoOtrosProveedor|floatformat:0}}</td>
            <td>${{v.getTotalProveedor|floatformat:0}}</td>
            <td>${{v.getIvaProveedor|floatformat:0}}</td>
            <td>${{v.getFinalProveedor|floatformat:0}}</td>
            <td>${{v.getCobradoProveedor|floatformat:0}}</td>
            <td>${{v.getPagarProveedor|floatformat:0}}</td>
            <td>{{v.getFacturaProveedor}}</td>
        </tr>
        {%endfor%}
    </tbody>
    <!-- ESTO SE AGREGO PARA LA FILA DE TOTAL -->
    <tfoot>
        <tr>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
            <th></th>
        </tr>
    </tfoot>
    <!-- HASTA ACA -->
</table>
<script>
    $(document).ready(function(){
        let table = $('#tablaListadoFactProvedores').DataTable( {
            ///////////////// EJEMPLO DE DATATABLES CON TABLE FOOTER PARA FILAS CON TOTAL /////////////
            /*
            Se puede usar esto que entiendo es una API de datatables o bien clavar una ultima fila y que algún
            método haga la magia de sumar los valores de las filas anteriores. Como diría Jelinek, lo dejo a tu
            criterio.
            */
            "footerCallback": function ( row, data, start, end, display ) {
                var api = this.api(), data;
    
                // Remove the formatting to get integer data for summation
                var intVal = function ( i ) {
                    return typeof i === 'string' ?
                        i.replace(/[\$,]/g, '')*1 :
                        typeof i === 'number' ?
                            i : 0;
                };
    
                    // Total over all pages
                    total8 = api
                        .column( 8 )
                        .data()
                        .reduce( function (a, b) {
                            return intVal(a) + intVal(b);
                        }, 0 );

                    total9 = api
                        .column( 9 )
                        .data()
                        .reduce( function (a, b) {
                            return intVal(a) + intVal(b);
                        }, 0 );

                    total10 = api
                        .column( 10 )
                        .data()
                        .reduce( function (a, b) {
                            return intVal(a) + intVal(b);
                        }, 0 );

                    total11 = api
                        .column( 11 )
                        .data()
                        .reduce( function (a, b) {
                            return intVal(a) + intVal(b);
                        }, 0 );

                    total12 = api
                        .column( 12 )
                        .data()
                        .reduce( function (a, b) {
                            return intVal(a) + intVal(b);
                        }, 0 );

                    total13 = api
                        .column( 13 )
                        .data()
                        .reduce( function (a, b) {
                            return intVal(a) + intVal(b);
                        }, 0 );

                    total14 = api
                        .column( 14 )
                        .data()
                        .reduce( function (a, b) {
                            return intVal(a) + intVal(b);
                        }, 0 );

                    total15 = api
                        .column( 15 )
                        .data()
                        .reduce( function (a, b) {
                            return intVal(a) + intVal(b);
                        }, 0 );

                    total16 = api
                        .column( 16 )
                        .data()
                        .reduce( function (a, b) {
                            return intVal(a) + intVal(b);
                        }, 0 );

                    total17 = api
                        .column( 17 )
                        .data()
                        .reduce( function (a, b) {
                            return intVal(a) + intVal(b);
                        }, 0 );

                    total18 = api
                        .column( 18 )
                        .data()
                        .reduce( function (a, b) {
                            return intVal(a) + intVal(b);
                        }, 0 );

                    total19 = api
                        .column( 19 )
                        .data()
                        .reduce( function (a, b) {
                            return intVal(a) + intVal(b);
                        }, 0 );

                    total20 = api
                        .column( 20 )
                        .data()
                        .reduce( function (a, b) {
                            return intVal(a) + intVal(b);
                        }, 0 );
    
                    // Total over this page
                    pageTotal = api
                        .column( 8, { page: 'current'} )
                        .data()
                        .reduce( function (a, b) {
                            return intVal(a) + intVal(b);
                        }, 0 );
        
                    // Update footer
                    $( api.column( 8 ).footer() ).html(
                        '$'+total8
                    );

                    $( api.column( 9 ).footer() ).html(
                        '$'+total9
                    );

                    $( api.column( 10 ).footer() ).html(
                        total10
                    );

                    $( api.column( 11 ).footer() ).html(
                        '$'+total11
                    );

                    $( api.column( 12 ).footer() ).html(
                        '$'+total12
                    );

                    $( api.column( 13 ).footer() ).html(
                        '$'+total13
                    );

                    $( api.column( 14 ).footer() ).html(
                        '$'+total14
                    );

                    $( api.column( 15 ).footer() ).html(
                        '$'+total15
                    );

                    $( api.column( 16 ).footer() ).html(
                        '$'+total16
                    );

                    $( api.column( 17 ).footer() ).html(
                        '$'+total17
                    );

                    $( api.column( 18).footer() ).html(
                        '$'+total18
                    );

                    $( api.column( 19 ).footer() ).html(
                        '$'+total19
                    );

                    $( api.column( 20 ).footer() ).html(
                        '$'+total20
                    );
            },
            //////////////// HASTA ACA HARDCODEADO EL TOTAL SEGUN EL EJEMPLO DE DATATABLES //////////////

            //////////////////// ESTO PARA QUE EL SCROLL ESTÉ DESPUÉS DEL FOOTER ////////////////////////
            "fnInitComplete": function(){
                // Disable TBODY scoll bars
                $('.dataTables_scrollBody').css({
                    'overflow': 'hidden',
                    'border': '0'
                });

                // Enable TFOOT scoll bars
                $('.dataTables_scrollFoot').css('overflow', 'auto');

                // Sync TFOOT scrolling with TBODY
                $('.dataTables_scrollFoot').on('scroll', function () {
                    $('.dataTables_scrollBody').scrollLeft($(this).scrollLeft());
                });                    
            },
            ////////////////////////////// HASTA ACA LO DEL FOOTER ///////////////////////////////////
            colReorder: true,
            responsive: true,
            scrollX: true,
            columnDefs: [ {
                orderable: false,
                className: 'select-checkbox',
                targets:   0
            } ],
            select: {
                style:    'os',
                selector: 'td:first-child'
            },
            order: [[ 1, "asc" ]],
            dom: 'lfBrtip',
            buttons: [
                'selectAll',
                'selectNone',
                {
                    extend: 'copyHtml5',
                    exportOptions: {
                        columns: ':visible:not(:eq(0))'
                    }
                },
                {
                    extend: 'excelHtml5',
                    footer: true,
                    exportOptions: {
                        columns: ':visible:not(:eq(0))'
                    }
                },
                {
                    text: 'PDF',
                    className: 'botonDelPDF',
                    action: function ( e, dt, node, config ) {
                        exportarPdf( e, dt, node, config );
                    }
                },
                {
                    extend: 'print',
                    messageTop: 'Facturación Provedores',
                    exportOptions: {
                        columns: ':visible:not(:eq(0))'
                    }
                }
            ],
            lengthMenu: [
                            [ 100, 50, 25, 10, -1 ],
                            [ '100', '50', '25', '10', 'Todos' ]
                        ],
            "pageLength": -1,
            language: {
                url: '//cdn.datatables.net/plug-ins/1.10.19/i18n/Spanish.json',
                buttons: {
                    copy: "Copiar",
                    print: "Imprimir",
                    selectAll: "Seleccionar Todo",
                    selectNone: "Deseleccionar"
                }
            }
        } );

    });
</script>